# =============================================================================
# Kitty Keybindings
# Note: All kitty shortcuts use Ctrl+Shift to avoid shell conflicts
# =============================================================================

# =============================================================================
# Tab Management
# =============================================================================

# Create/Close tabs
map ctrl+shift+t new_tab_with_cwd
map ctrl+shift+w close_tab

# Navigate tabs
map ctrl+shift+right next_tab
map ctrl+shift+left previous_tab
map ctrl+shift+. move_tab_forward
map ctrl+shift+, move_tab_backward

# Go to specific tab
map ctrl+shift+1 goto_tab 1
map ctrl+shift+2 goto_tab 2
map ctrl+shift+3 goto_tab 3
map ctrl+shift+4 goto_tab 4
map ctrl+shift+5 goto_tab 5

# Rename tab
map ctrl+shift+alt+t set_tab_title

# =============================================================================
# Window Management
# =============================================================================

# Create/Close windows
map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+n new_os_window
map ctrl+shift+q close_window

# Navigate windows
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window

# Move windows
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward

# Resize windows
map ctrl+shift+r start_resizing_window

# Focus specific window
map ctrl+shift+1 first_window
map ctrl+shift+2 second_window
map ctrl+shift+3 third_window

# =============================================================================
# Layout Management
# =============================================================================

# Cycle layouts
map ctrl+shift+l next_layout

# Toggle stack layout (fullscreen current window)
map ctrl+alt+z toggle_layout stack

# Specific layouts
map ctrl+alt+t goto_layout tall
map ctrl+alt+s goto_layout stack
map ctrl+alt+g goto_layout grid

# =============================================================================
# Font Size Control
# =============================================================================

# Increase/Decrease
map ctrl+equal change_font_size all +2.0
map ctrl+shift+equal change_font_size all +2.0
map ctrl+minus change_font_size all -2.0
map ctrl+shift+minus change_font_size all -2.0

# Reset
map ctrl+0 change_font_size all 0

# =============================================================================
# Clipboard Operations
# =============================================================================

# Copy/Paste
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+s paste_from_selection

# =============================================================================
# Scrollback Navigation
# =============================================================================

# Scroll line by line
map ctrl+shift+up scroll_line_up
map ctrl+shift+down scroll_line_down
map ctrl+shift+k scroll_line_up
map ctrl+shift+j scroll_line_down

# Scroll page by page
map ctrl+shift+page_up scroll_page_up
map ctrl+shift+page_down scroll_page_down

# Scroll to top/bottom
map ctrl+shift+home scroll_home
map ctrl+shift+end scroll_end

# Show scrollback in pager
map ctrl+shift+h show_scrollback

# Show last command output
map ctrl+shift+g show_last_command_output

# Scroll to prompts (requires shell integration)
map ctrl+shift+z scroll_to_prompt -1
map ctrl+shift+x scroll_to_prompt 1

# =============================================================================
# Hints Kitten (keyboard selection)
# =============================================================================

# Open URL
map ctrl+shift+e open_url_with_hints

# Select and insert path
map ctrl+shift+p>f kitten hints --type path --program -

# Select and open path
map ctrl+shift+p>shift+f kitten hints --type path

# Select and insert line
map ctrl+shift+p>l kitten hints --type line --program -

# Select and insert word
map ctrl+shift+p>w kitten hints --type word --program -

# Select and insert hash (git commits)
map ctrl+shift+p>h kitten hints --type hash --program -

# Open file at line number
map ctrl+shift+p>n kitten hints --type linenum

# Open hyperlink
map ctrl+shift+p>y kitten hints --type hyperlink

# =============================================================================
# Search
# =============================================================================

# Search in scrollback
map ctrl+shift+/ launch --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i

# =============================================================================
# Miscellaneous
# =============================================================================

# Reload config
map ctrl+shift+f5 load_config_file

# Toggle fullscreen
map ctrl+shift+f11 toggle_fullscreen

# Edit kitty config
map ctrl+shift+f2 edit_config_file

# Clear terminal
map ctrl+shift+delete clear_terminal reset active
map ctrl+l clear_terminal to_cursor_scroll active

# Unicode input
map ctrl+shift+u kitten unicode_input

# Kitty shell (remote control)
map ctrl+shift+escape kitty_shell window

# =============================================================================
# Background Opacity (if dynamic_background_opacity is enabled)
# =============================================================================

# Increase/Decrease opacity
map ctrl+shift+a>m set_background_opacity +0.1
map ctrl+shift+a>l set_background_opacity -0.1
map ctrl+shift+a>1 set_background_opacity 1
map ctrl+shift+a>d set_background_opacity default
