# =============================================================================
# Atuin Configuration
# Shell history with context, search, and sync
# =============================================================================

# =============================================================================
# General Settings
# =============================================================================

# Atuin database location
db_path = "~/.local/share/atuin/history.db"

# Key path for encryption (if using sync)
key_path = "~/.local/share/atuin/key"

# Session token path (if using sync)
session_path = "~/.local/share/atuin/session"

# =============================================================================
# History Settings
# =============================================================================

# Automatically sync history in the background
auto_sync = false

# Sync server URL (set to false if not using sync)
# sync_address = "https://api.atuin.sh"

# Frequency of automatic sync (in seconds)
sync_frequency = 300

# Filter out commands that start with a space
filter_mode_shell_up_key_binding = "session"

# Filter mode for search
# Options: global, host, session, directory
filter_mode = "global"

# Search mode
# Options: prefix, fulltext, fuzzy, skim
search_mode = "fuzzy"

# Show preview window
show_preview = true

# Maximum number of lines in preview
max_preview_height = 10

# Show help text
show_help = true

# Exit on Ctrl+D
exit_mode = "return-query"

# =============================================================================
# UI Settings
# =============================================================================

# Style of the interface
# Options: auto, compact, full
style = "auto"

# Show tabs for filtering
show_tabs = true

# Inline height (number of lines)
inline_height = 20

# Show command duration
show_duration = true

# Duration format
# Options: human, precise
duration_format = "human"

# =============================================================================
# Filtering & Privacy
# =============================================================================

# Commands to exclude from history
history_filter = [
    "^secret",
    "^password",
    "^token",
    "^api[_-]?key",
    "^aws[_-]?secret",
    "export .*PASSWORD.*",
    "export .*SECRET.*",
    "export .*TOKEN.*",
    ".*\\bpassword\\b.*",
    ".*\\bsecret\\b.*",
]

# Exclude commands that match these patterns
cwd_filter = [
    # Add directories you want to exclude
    # "~/private",
    # "~/secrets",
]

# =============================================================================
# Search Behavior
# =============================================================================

# Word jump mode
# Options: emacs, subl (sublime-like)
word_jump_mode = "emacs"

# Word characters (used for word jumping)
word_chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"

# Scroll context lines
scroll_context_lines = 2

# =============================================================================
# Keybindings
# =============================================================================

# Default keybindings are:
# Ctrl+R - Search history
# Up arrow - Search with current input as prefix
# Ctrl+N - Next result
# Ctrl+P - Previous result
# Enter - Execute command
# Tab - Complete with selected command
# Ctrl+Y - Copy command to clipboard

# You can customize these in your shell config if needed

# =============================================================================
# Statistics
# =============================================================================

# Track command statistics
stats = true

# Common prefix mode for stats
# Options: prefix, full
common_prefix = "prefix"

# Common subcommands mode
common_subcommands = true

# =============================================================================
# Advanced Settings
# =============================================================================

# Update check frequency (in seconds)
# Set to 0 to disable
update_check = 86400

# Dialect (shell type detection)
# Options: auto, bash, zsh, fish
dialect = "zsh"

# Enter key behavior
# Options: return-original, return-query
enter_accept = true

# =============================================================================
# Performance
# =============================================================================

# Maximum number of results to display
max_results = 1000

# Search timeout (in milliseconds)
search_timeout = 5000

# Database sync timeout (in seconds)
sync_timeout = 30

# =============================================================================
# Experimental Features
# =============================================================================

# Enable workspaces (experimental)
# workspaces = false

# Enable vim mode (experimental)
# vim_mode = false
